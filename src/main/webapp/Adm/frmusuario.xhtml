<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="../css/estilo.css" rel="stylesheet" type="text/css" />
	<title>Sarp</title>
</h:head>
<body>
<h:form>

	<div id="topo">

		<div id="topo_direito">

			<h:outputText value="Bem Vindo  #{loginBean.usuario.nome} !!!" styleClass="font-BemVindo"/>
			<br /> 
			<p:commandButton title="Sair" value="Sair" oncomplete="sair.show()"></p:commandButton>

			<p:confirmDialog widgetVar="sair"
				message="Tem certeza que deseja Sair ?" header="Aviso"
				severity="alert" closable="true">

				<p:commandButton title="sim" alt="Sim" value="sim"
					actionListener="#{logoutBean.sairIndex}" onclick="sair.hide()"
					update="@form" process="@this "></p:commandButton>

				<p:commandButton title="Nao" alt="Nao" value="nao"
					onclick="sair.hide()"></p:commandButton>

			</p:confirmDialog>

		</div>

		<div id="topo_centro">
			<h2>SARP</h2>
			<h4>Sistema de Automação de Rebocadores Portuário</h4>
		</div>

		<div id="topo_esquerdo">

			<h:outputText value="Base : #{loginBean.usuario.base.nome}" />
			<br />
			<h:outputText value="Setor / Rebocador : #{loginBean.setor}" />
			<br />

			<h:outputText value="#{loginBean.dtlogin}" />
			<br />

		</div>

	</div>

	<div id="clear"></div>

	<div id="msg">
		<p:panel>
			<p:messages>
			</p:messages>
		</p:panel>
	</div>
	<div id="menu">
		<p:menubar>

			<p:submenu label="Manobras">
				<p:menuitem value="Mdb" url="../Tripulante/frmmanobras.xhtml"></p:menuitem>
				<p:submenu label="Relatórios">
					<p:menuitem value="Período"
						url="../Tripulante/frmrelmanobrasdt.xhtml"></p:menuitem>
					<p:menuitem value="Base" url="../Tripulante/frmembarque.xhtml"
						disabled="true"></p:menuitem>
					<p:menuitem value="Armador"
						url="../Tripulante/frmembarque.xhtml" disabled="true"></p:menuitem>

				</p:submenu>
			</p:submenu>

			<p:submenu label="Sgi">

				<p:submenu label="Embarque">
					<p:menuitem value="Pessoas a Bordo"
						url="../Tripulante/frmembarque.xhtml"></p:menuitem>

					<p:menuitem value="Programação H Extra"
						url="../Tripulante/frmhextra.xhtml"></p:menuitem>

					<p:submenu label="Relatórios">
						<p:menuitem value="Período"
							url="../Tripulante/frmembarque.xhtml" disabled="true"></p:menuitem>

						<p:menuitem value="Tripulante"
							url="../Tripulante/frmembarque.xhtml" disabled="true"></p:menuitem>

						<p:menuitem value="Rebocador"
							url="../Tripulante/frmembarque.xhtml" disabled="true"></p:menuitem>
					</p:submenu>

				</p:submenu>

				<p:submenu label="Bandalho">
					<p:menuitem value="Convés"
						url="../Tripulante/frmbandalhoconves.xhtml"></p:menuitem>
					<p:menuitem value="Máquinas"
						url="../Tripulante/frmbandalhomaquinas.xhtml" disabled="true"></p:menuitem>
				</p:submenu>

				<p:submenu label="Passagem Serviço">
					<p:submenu label="Comando">
						<p:menuitem value="Gerar" url="../Tripulante/frmgrpcomando.xhtml"></p:menuitem>
						<p:menuitem value="Receber"
							url="../Tripulante/frmbxpcomando.xhtml"></p:menuitem>

						<p:submenu label="Relátorios">
							<p:menuitem value="Turno" url="../Tripulante/frmrequisicao.xhtml" disabled="true"></p:menuitem>
							<p:menuitem value="Período"
								url="../Tripulante/frmrequisicao.xhtml" disabled="true"></p:menuitem>
						</p:submenu>

					</p:submenu>

					<p:submenu label="Máquinas">
						<p:menuitem value="Gerar" url="../Tripulante/frmrequisicao.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Receber"
							url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>

						<p:submenu label="Relátorios">
							<p:menuitem value="Turno" url="../Tripulante/frmrequisicao.xhtml"
								disabled="true"></p:menuitem>
							<p:menuitem value="Período"
								url="../Tripulante/frmrequisicao.xhtml" disabled="true"></p:menuitem>
						</p:submenu>
					</p:submenu>

				</p:submenu>

				<p:submenu label="Solicitações">
					<p:submenu label="Material">
						<p:menuitem value="Nova" url="../Tripulante/frmrequisicao.xhtml"></p:menuitem>
						<p:menuitem value="Baixar"
							url="../Tripulante/frmrequisicaobx.xhtml"></p:menuitem>
						<p:menuitem value="Cancelar"
							url="../Tripulante/frmrequisicaoesc.xhtml" disabled="true"></p:menuitem>

					</p:submenu>

					<p:submenu label="Serviços">
						<p:menuitem value="Nova" url="../Tripulante/frmrequisicao.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Baixar"
							url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>
						<p:menuitem value="Cancelar"
							url="../Tripulante/frmrequisicaoesc.xhtml" disabled="true"></p:menuitem>

					</p:submenu>

					<p:submenu label="Relatórios">

						<p:submenu label="Material">
							<p:menuitem value="Pendências"
								url="../Tripulante/frmrlpendinsumo.xhtml"></p:menuitem>
							<p:menuitem value="Período" disabled="true"
								url="../Tripulante/frmrequisicaobx.xhtml"></p:menuitem>
						</p:submenu>

						<p:submenu label="Serviços">
							<p:menuitem value="Pendências"
								url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>
							<p:menuitem value="Período"
								url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>

							<p:menuitem value="Espelho"
								url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>


						</p:submenu>

					</p:submenu>
				</p:submenu>

				<p:submenu label="Remessa de Material">

					<p:menuitem value="Transferência"
						url="../Tripulante/frmremessatrf.xhtml"></p:menuitem>

					<p:menuitem value="Solicitação de Material"
						url="../Tripulante/frmremessasm.xhtml"></p:menuitem>

					<p:menuitem value="Conserto" disabled="true"
						url="../Tripulante/frmrequisicao.xhtml"></p:menuitem>

					<p:submenu label="Relatórios">

						<p:menuitem value="Período"
							url="../Tripulante/frmrequisicaobx.xhtml" disabled="true"></p:menuitem>

					</p:submenu>

				</p:submenu>

				<p:submenu label="Inventário">
					<p:menuitem value="Ajuste" url="../Tripulante/frmrequisicao.xhtml"
						disabled="true"></p:menuitem>

					<p:menuitem value="Relatórios"
						url="../Tripulante/frmremessasm.xhtml" disabled="true"></p:menuitem>
				</p:submenu>


				<p:submenu label="Certificados">
					<p:menuitem value="Cadastro"
						url="../Tripulante/frmrequisicao.xhtml" disabled="true"></p:menuitem>

					<p:menuitem value="Relatórios"
						url="../Tripulante/frmremessasm.xhtml" disabled="true"></p:menuitem>
				</p:submenu>



			</p:submenu>

			<p:submenu label="Operações">

				<p:submenu label="Rebocadores">
					<p:menuitem value="Cadastro" url="../Operacoes/frmrebocador.xhtml"></p:menuitem>
					<p:submenu label="Relatórios">
						<p:menuitem value="Base" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Situação" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>

					</p:submenu>
				</p:submenu>

				<p:submenu label="Embarcações">
					<p:menuitem value="Cadastro"
						url="../Operacoes/frmembarcacoes.xhtml"></p:menuitem>
					<p:submenu label="Relatórios">
						<p:menuitem value="Armador"
							url="../Operacoes/frmembarcacoes.xhtml" disabled="true"></p:menuitem>
					</p:submenu>
				</p:submenu>

				<p:submenu label="Tripulantes">
					<p:menuitem value="Cadastro" url="../Operacoes/frmtripulante.xhtml"></p:menuitem>
					<p:submenu label="Relatórios">
						<p:menuitem value="Base" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Rebocador"
							url="../Operacoes/frmrebocador.xhtml" disabled="true"></p:menuitem>
						<p:menuitem value="Situação" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Categoria"
							url="../Operacoes/frmrebocador.xhtml" disabled="true"></p:menuitem>
					</p:submenu>
				</p:submenu>

				<p:submenu label="Armador">
					<p:menuitem value="Cadastro" url="../Operacoes/frmrebocador.xhtml"
						disabled="true"></p:menuitem>
					<p:submenu label="Relatórios">
						<p:menuitem value="Relação" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Situação" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>

					</p:submenu>
				</p:submenu>

				<p:submenu label="Diversos">
					<p:submenu label="Cadastro">
						<p:menuitem value="Prático" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Locais" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Manobras" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Categoria Maritimo"
							url="../Operacoes/frmrebocador.xhtml" disabled="true"></p:menuitem>
						<p:menuitem value="" url="../Operacoes/frmrebocador.xhtml"
							disabled="true"></p:menuitem>
					</p:submenu>
				</p:submenu>

				<p:menuitem value="Programação"
					url="../Operacoes/frmtripulante.xhtml" disabled="true"></p:menuitem>

			</p:submenu>

			<p:submenu label="Pessoal">

				<p:menuitem value="Funcionário" url="../Adm/frmusuario.xhtml"></p:menuitem>
				<p:menuitem value="Planilha Horas" url="../Adm/frmusuario.xhtml"
					disabled="true"></p:menuitem>
				<p:menuitem value="Ponto" url="../Adm/frmusuario.xhtml"
					disabled="true"></p:menuitem>
				<p:submenu label="Relatórios">

				</p:submenu>

			</p:submenu>

			<p:submenu label="Manutenção">

				<p:submenu label="Insumos">
					<p:menuitem value="Cadastro" url="../Manutencao/frmcadinsumo.xhtml"></p:menuitem>

					<p:submenu label="Relatórios">
						<p:menuitem value="Insumos" url="../Manutencao/frmcadinsumo.xhtml"
							disabled="true"></p:menuitem>
						<p:menuitem value="Pendência"
							url="../Manutencao/frmrlpendinsumo.xhtml"></p:menuitem>
					</p:submenu>

				</p:submenu>

				<p:submenu label="Serviços">
					<p:menuitem value="Cadastro"
						url="../Manutencao/frmcadservicos.xhtml" disabled="true"></p:menuitem>

					<p:submenu label="Relatórios">
						<p:menuitem value="Servicos"
							url="../Manutencao/frmcadinsumo.xhtml" disabled="true"></p:menuitem>
						<p:menuitem value="Pendência"
							url="../Manutencao/frmrlpendinsumo.xhtml" disabled="true"></p:menuitem>
					</p:submenu>

				</p:submenu>

			</p:submenu>

			<p:submenu label="Gerência">
				<p:submenu label="Relatórios Gerenciais">
					<p:menuitem value="Consumo" url="../Manutencao/frmcadinsumo.xhtml"
						disabled="true"></p:menuitem>

				<p:submenu label="Manobras">
					<p:menuitem value="Faturamento" url="../Gerencia/frmrlmanobrasft.xhtml"></p:menuitem>
					<p:menuitem value="Periodo" url="../Tripulante/frmrelmanobrasdt.xhtml"></p:menuitem>
				</p:submenu>

				<p:submenu label="Solicitações">

				<p:submenu label="Material">
					<p:menuitem value="Pendências" url="../Manutencao/frmrlpendinsumo.xhtml"></p:menuitem>
					<p:menuitem value="Periodo" url="../Manutencao/frmcadinsumo.xhtml" disabled="true"></p:menuitem>
				</p:submenu>

				<p:submenu label="Serviços">
					<p:menuitem value="Pendências" url="../Manutencao/frmcadinsumo.xhtml" disabled="true"></p:menuitem>
					<p:menuitem value="Periodo" url="../Manutencao/frmcadinsumo.xhtml" disabled="true"></p:menuitem>
				</p:submenu>


				</p:submenu>
				</p:submenu>
			</p:submenu>

		</p:menubar>

	</div>

<div id="formularios">

			<p:panel header="Cadastro de Usuários">
				<p:messages>
				</p:messages>

				<p:tabView styleClass="tabViewSemBorda">
					<p:tab title="Usuario">
						<p:panelGrid columns="3" styleClass="semBorda">
							<p:outputLabel value="Matricula :" styleClass="semBorda"></p:outputLabel>
							<p:outputLabel value="Nome :" styleClass="semBorda"
								style="border:none;"></p:outputLabel>
							<p:outputLabel value="Sobrenome :" styleClass="semBorda"
								style="border:0px;"></p:outputLabel>

							<p:inputText size="8" value="#{usuarioBean.usuario.matricula}"></p:inputText>

							<p:inputText size="20" value="#{usuarioBean.usuario.nome}"></p:inputText>

							<p:inputText size="40" value="#{usuarioBean.usuario.sobrenome}"></p:inputText>

							<p:outputLabel value="Cpf :"></p:outputLabel>
							<p:outputLabel value="Rg :"></p:outputLabel>
							<p:outputLabel value="Passaporte :"></p:outputLabel>

							<p:inputText value="#{usuarioBean.usuario.cpf}"></p:inputText>
							<p:inputText value="#{usuarioBean.usuario.rg}"></p:inputText>
							<p:inputText value="#{usuarioBean.usuario.rg}"></p:inputText>

						</p:panelGrid>
					</p:tab>

					<p:tab title="Endereço">

						<p:panelGrid columns="2" styleClass="semBorda">

							<p:outputLabel value="Estado - Cidade - Bairro :"></p:outputLabel>
							
							<p:selectOneMenu
								value="#{usuarioBean.usuario.bairros}"
								converter="#{bairrosConverter}" >
								
								<f:selectItem itemLabel="Selecione" />

								<f:selectItems value="#{bairrosBean.bairrosList}" var="bairro"
									itemLabel="#{bairro.cidade.estado.uf}  #{bairro.cidade.nome} #{bairro.nome}" />

							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid columns="3" styleClass="semBorda">

							<p:outputLabel value="Rua :"></p:outputLabel>
							<p:outputLabel value="Numero :"></p:outputLabel>
							<p:outputLabel value="Cep :"></p:outputLabel>

							<p:inputText value="#{usuarioBean.usuario.rua}" size="50"></p:inputText>
							<p:inputText value="#{usuarioBean.usuario.num}" size="6"></p:inputText>
							<p:inputText value="#{usuarioBean.usuario.cep}" size="10"></p:inputText>

						</p:panelGrid>

					</p:tab>

					<p:tab title="Empresa">
						<p:panelGrid columns="4" styleClass="semBorda">
							<p:outputLabel value="Base :"></p:outputLabel>

							<p:selectOneMenu value="#{usuarioBean.usuario.base}"
								converter="#{baseConverter}">
								<f:selectItem itemLabel="Selecione" />

								<f:selectItems value="#{baseBean.baseList}" var="base"
									itemLabel="#{base.nome}" />
							</p:selectOneMenu>

							<p:outputLabel value="Setor :"></p:outputLabel>
							<p:selectOneMenu value="#{usuarioBean.usuario.setor}"
								converter="#{setorConverter}">
								<f:selectItem itemLabel="Selecione" />

								<f:selectItems value="#{setorBean.setorList}" var="setor"
									itemLabel="#{setor.nome}" itemvalue="#{setor.cd_setor}" />
							</p:selectOneMenu>

							<p:outputLabel value="Função :"></p:outputLabel>
							<p:selectOneMenu value="#{usuarioBean.usuario.funcao}"
								converter="#{funcaoConverter}">
								<f:selectItem itemLabel="Selecione" />

								<f:selectItems value="#{funcaoBean.funcaoList}" var="funcao"
									itemLabel="#{funcao.nome}" itemvalue="#{funcao.cd_funcao}" />
							</p:selectOneMenu>

							<p:outputLabel value="Status :"></p:outputLabel>
							<p:selectOneMenu value="#{usuarioBean.usuario.status}"
								converter="#{situacaoFuncionarioConverter}">

								<f:selectItem itemLabel="Selecione" />

								<f:selectItems
									value="#{situacaoFuncionarioBean.situacaoFuncionarioList}"
									var="status" itemLabel="#{status.nome}"
									itemvalue="#{status.cd_sit}" />
							</p:selectOneMenu>

						</p:panelGrid>
					</p:tab>
				</p:tabView>

				<f:facet name="footer">

					<p:commandButton value="Salvar" action="#{usuarioBean.salvar}"
						update="@form"></p:commandButton>

				</f:facet>
			</p:panel>


		</div>

		<p:panel header="Lista de Usuarios">
			<p:dataTable value="#{usuarioBean.usuarioList}" var="usuario" styleClass="pg1">

				<p:column headerText="Matricula" width="10">
					<h:outputText value="#{usuario.matricula}" />
				</p:column>
				<p:column headerText="Nome">
					<h:outputText value="#{usuario.nome}" />
				</p:column>
				<p:column headerText="Sobrenome">
					<h:outputText value="#{usuario.sobrenome}" />
				</p:column>
				
				<p:column headerText="Rg" width="15">
					<h:outputText value="#{usuario.rg}" />
				</p:column>
				<p:column headerText="Cpf" width="15">
					<h:outputText value="#{usuario.cpf}" />
				</p:column>

				<p:column headerText="Ação" width="10">
					<p:commandButton icon="ui-icon-pencil" title="Editar"
						update="@form">

						<f:setPropertyActionListener value="#{usuario}"
							target="#{usuarioBean.usuario}" />

					</p:commandButton>



				</p:column>

			</p:dataTable>

			<p:confirmDialog widgetVar="confirmacao"
				message="Tem certeza que deseja excluir ?" header="Aviso"
				severity="alert" closable="true">

				<p:commandButton title="sim" alt="Sim" value="sim"
					actionListener="#{usuarioBean.excluir}"
					onclick="confirmacao.hide()" update="@form" process="@this "></p:commandButton>
				<p:commandButton title="Nao" alt="Nao" value="nao"
					onclick="confirmacao.hide()"></p:commandButton>

			</p:confirmDialog>

		</p:panel>

	</h:form>

</body>
</html>
